<!DOCTYPE html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT in giallo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">

    <link rel="shortcut icon" href="{{ url_for('static', filename='shortcut.png') }}" />
</head>

<body>
    {% for registry, values in data.items() %}
    <h2 class="text-center">{{ registry }}</h2>
    <table class="table">
        <tbody>
            {% for value in values %}
            <tr class="table-primary">
                <td colspan="2">
                    <div class="d-flex justify-content-between">
                        <div>{{ value['event'] }}</div>
                        <div>{{ value['timestamp'] }}</div>
                    </div>
                </td>
            </tr>
            {% if value['log'] is mapping %}
            {% for log_key, log_value in value['log'].items() %}
            <tr>
                <td>{{ log_key }}:</td>
                <td>{{ log_value }}</td>
            </tr>
            {% endfor %}
            {% else %}
            <tr>
                <td></td>
                <td>{{ value['log'] }}</td>
            </tr>
            {% endif %}
            <tr>
                <td colspan="2"><br/></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endfor %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
</body>
